L.TileLayer.Canvas=L.TileLayer.extend({createCanvas:function(e,t,a){let n;const i=e.getContext("2d"),{x:s,y:c}=this.getTileSize();e.width=s,e.height=c;const r=new Image;r.onload=()=>{try{i.drawImage(r,0,0),e.complete=!0}catch(e){n=e}finally{a(n,e)}},r.src=this.getTileUrl(t),r.crossOrigin="anonymous"},createTile:function(e,t){const{timeout:a}=this.options,n=document.createElement("canvas");return a?setTimeout(()=>{this.createCanvas(n,e,t)},a):this.createCanvas(n,e,t),n}}),L.tileLayer.canvas=function(e,t){return new L.TileLayer.Canvas(e,t)};